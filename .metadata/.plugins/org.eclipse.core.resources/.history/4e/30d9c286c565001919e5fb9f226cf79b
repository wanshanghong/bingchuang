<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- public class Patient {
	private int patientId;              //病人ID/床号
	private String patientName;         //病人名字
	private String patientSex;          //病人性别
	private int patientAge;             //病人年龄
	private String patientIdcard;       //病人身份证
	private String patientAddress;      //病人家庭地址
	private int patientPhone;           //病人电话
	private String diseaseInformation;  //病症信息
	private Date  admissionTime;	    //入院时间
	private String hospitalName;        //医院名称
	private String patientPhoto;        //病人头像 -->
<mapper namespace="cn.bingchuang.mapper.PatientMapper">

	
	<!-- 添加病人 -->
	<insert id="addpatient"  parameterType="cn.bingchuang.pojo.Patient" >
		<selectKey keyProperty="patient_id" resultType="Integer" order="AFTER">
			select LAST_INSERT_ID()
		</selectKey>
		insert into patient(patient_id,patient_name,patient_sex,patient_age,patient_idcard,
							patient_address,patient_phone,disease_information,admission_time,hospital_name,patient_photo)
		values (#{patientId},#{patientName},#{patientSex},#{patientAge},#{patientIdcard},
				#{patientAddress},#{patientPhone},#{diseaseInformation},#{admissionTime},#{hospitalName},#{patientPhoto})
	</insert>
	
	<!-- 修改病人 -->
	<update id="updatepatient"  parameterType="cn.bingchuang.pojo.Patient">
		update  patient set patient_name=#{patientName},patient_sex=#{patientSex},
							patient_age=#{patientAge},patient_idcard=#{patientIdcard},patient_address=#{patientAddress},
							patient_phone=#{patientPhone},disease_information=#{diseaseInformation},admission_time=#{admissionTime},
							hospital_name=#{hospitalName},patient_photo=#{patientPhoto} where patient_id=#{patientId}
	</update>
	
	<!-- 通过ID找病人 -->
	<select id="findpatientbypatientId" parameterType="Integer"
		resultType="cn.bingchuang.pojo.Patient">
		select * from patient where patient_id=#{patientId}
	</select>
	
	<!-- 查找全部病人 -->
	<select id="findpatientallpatient" 
		resultType="cn.bingchuang.pojo.Patient">
		select * from patient
	</select>
	
	<!-- 通过ID删除病人 -->
	<delete id="deletepatientbypatientId" parameterType="Integer">
		 delete from patient where patient_id=#{patientId}
	</delete>
	
	<!-- 删除所有病人 -->
	<delete id="deletepatientallpatient" parameterType="Integer">
		 delete from patient
	</delete>
	
</mapper>